{% extends 'layouts/dashboard.html' %}
{% block content %}
    <div>
        <h5>Here's all your</h5>
        <h1>Secrets</h1>
        <p class="large">Manage your secrets securely. Create, view, and delete secrets with ease.</p>
    </div>
    <div class="card mb-3 bg-warning text-dark">
        <div class="card-body">
            Warning: Access control lists (ACL) are not yet implemented. This means the table 
            below contains all secrets stored on the server, not just your own. Please avoid 
            submitting any confidential information, as it will be accessible to all users of 
            this web panel.
        </div>
    </div>
    <div class="card">
        <div class="card-body">
            <h2>Secret management</h2>
            <p class="large">Create, delete and review your secrets here</p>
            <div class="table-responsive rounded">
                <table class="table table-striped table-hover">
                    <thead class="table-dark">
                        <tr>
                            <th>Name</th>
                            <th>Created by</th>
                            <th>Tags</th>
                            <th>Description</th>
                            <th>Created at</th>
                            <th>Expires at</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for record in records %}
                        <tr>
                            <td>{{ record.canonical }}</td>
                            <td>{{ record.created_by }}</td>
                            <td>{{ record.tags }}</td>
                            <td>{{ record.description }}</td>
                            <td>{{ record.created_at_timestamp | format_datetime }}</td>
                            <td>{{ record.expires_at_timestamp | format_datetime }}</td>
                            <td>
                                <button class="btn btn-primary btn-sm">View</button>
                                <button class="btn btn-danger btn-sm">Delete</button>
                            </td>
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>
        </div>
    </div>
    

{% endblock %}